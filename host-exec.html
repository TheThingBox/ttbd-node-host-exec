<script type="text/x-red" data-template-name="host exec">
    <div class="form-row">
        <label for="node-input-command"><i class="fa fa-file"></i> <span data-i18n="host-exec.command"></span></label>
        <input type="text" id="node-input-command" data-i18n="[placeholder]host-exec.command">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="host-exec.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]host-exec.name">
    </div>
</script>

<script type="text/x-red" data-help-name="host exec">
    <p>Runs a system command on host and returns its output.</p>
    <h3>Inputs</h3>
    <dl class="message-properties">
        <dt class="optional">payload <span class="property-type">string</span></dt>
        <dd>if configured to do so, will be appended to the executed command.</dd>
    </dl>
    <h3>Outputs</h3>
    <ol class="node-ports">
        <li>Standard output
            <dl class="message-properties">
                <dt>payload <span class="property-type">string</span></dt>
                <dd>the standard output of the command.</dd>
            </dl>
        </li>
        <li>Standard error
            <dl class="message-properties">
                <dt>payload <span class="property-type">string</span></dt>
                <dd>the standard error of the command.</dd>
            </dl>
        </li>
        <li>Return code
            <dl class="message-properties">
                <dt>payload <span class="property-type">object</span></dt>
                <dd>an object containing the return code, and possibly <code>message</code>, <code>signal</code> properties.</dd>
            </dl>
        </li>
    </ol>
</script>

<script type="text/javascript">
    RED.nodes.registerType('host exec',{
        category: 'advanced-function',
        color:"#ffffff",
        defaults: {
            command: {value:""},
            name: {value:""}
        },
        inputs:1,
        outputs:3,
        outputLabels: ["stdout","stderr","return code"],
        icon: "arrow-in.png",
        align: "right",
        label: function() {
            return this.name||this.command||'host exec';
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>
